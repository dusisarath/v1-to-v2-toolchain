{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "New Git repository",
    "description": "Git repository schema",
    "longDescription": "Source code from your existing repository will be migrated to a new repository on IBM Hosted Git. You can engage in social coding through wikis, issue tracking, and pull requests.",
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
	    "description": "Repository Type",      
	    "enum": ["new"],
	    "readonly": true      
      },   
      "repo_name": {
          "title":"New repository name",
	      "description": "New repository name",
          "type": "string"
      },       
      "existing_repo_url": {          
          "title": "Existing Git Repository",
	  "description": "This is the repository from where the source code will be imported.",
          "type": "string",
          "readonly" : true
      },
      "private_repo": {
         "title": "Private Repository",
         "description": "Select this check box to create a private repository.",
         "type": "boolean",
         "default": true
      },	    
      "has_issues": {
		"title": "Enable GitHub Enterprise Issues",
		"description": "Enable GitHub Enterprise Issues page for lightweight issue tracking.",
		"type": "boolean",
		"default": true
      },
      "enable_traceability": {
	      "type": "boolean",
	      "title": "Track deployment of code changes",
	      "description": "Select this check box to track the deployment of code changes by creating tags, labels and comments on commits, pull requests and referenced issues.",
	      "default": true
      }
    },
    "required": ["repo_name"],
    "form": [
      {
        "type": "validator",
        "url": "/devops/setup/bm-helper/github_helper.html"
      },  
      {
	    "type": "selectfieldset",
	    "key": "type",
	    "titleMap": {
		    "new": "New"
	    },
	    "items": [{
		    "type": "section",
		    "items": ["repo_name", "existing_repo_url"]
	    }]     
      }, {
	"type": "boolean",       
	"key": "enable_traceability"       
      }
    ],
    "actions": {
      "create": ["has_issues","repo_name","type"]
    }
}
