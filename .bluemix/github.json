{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "messages": {
      "$i18n": "locales.yml"
    },
    "title": {
      "$ref": "#/messages/github.title"
    },
    "description": {
      "$ref": "#/messages/github.description"
    },
    "longDescription": {
      "$ref": "#/messages/github.longDescription"
    },
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
        "description": {
          "$ref": "#/messages/github.repositoryType"
        },
        "enum": ["new"],
        "readonly": true
      },
      "repo_name": {
        "title": {
          "$ref": "#/messages/github.repositoryName"
        },
        "description": {
          "$ref": "#/messages/github.newRepoDescription"
        },
        "type": "string"
      },
      "existing_repo_url": {
        "title": {
          "$ref": "#/messages/github.existingRepository"
        },
	      "description": {
          "$ref": "#/messages/github.existingRepoDescription"
        },
        "type": "string",
        "readonly" : true
      },
      "private_repo": {
        "title": {
          "$ref": "#/messages/github.privateRepository"
        },
        "description": {
          "$ref": "#/messages/github.privateRepoDescription"
        },
        "type": "boolean",
        "default": true
      },
      "has_issues": {
        "title": {
          "$ref": "#/messages/github.enableIssues"
        },
        "description": {
          "$ref": "#/messages/github.enableIssuesDescription"
        },
        "type": "boolean",
        "default": true
      },
      "enable_traceability": {
        "type": "boolean",
          "title": {
            "$ref": "#/messages/github.trackDeployment"
          },
          "description": {
            "$ref": "#/messages/github.trackDeployDescription"
          },
          "default": true
      },
      "migrateTAndP": {
        "title": {
          "$ref": "#/messages/github.migrateTAndP"
        },
        "description": {
          "$ref": "#/messages/github.migrateTAndPDescription"
        },
        "type": "boolean",
        "enum": ["Yes", "No"]
      },
      "query": {
        "type": "string",
        "title": {
          "$ref": "#/messages/github.trackAndPlanQuery"
        },
        "default": ""
      },
      "labels": {
        "type": "object",
        "title": {
          "$ref": "#/messages/github.labelsTitle"
        },
        "properties": {
          "type": {
            "title": {
              "$ref": "#/messages/github.labelType"
            },
            "type": "boolean"
          },
          "severity": {
            "title": {
              "$ref": "#/messages/github.labelSeverity"
            },
            "type": "boolean"
          },
          "state": {
            "title": {
              "$ref": "#/messages/github.labelState"
            },
            "type": "boolean"
          },
          "priority": {
            "title": {
              "$ref": "#/messages/github.labelPriority"
            },
            "type": "boolean"
          },
          "resolution": {
            "title": {
              "$ref": "#/messages/github.labelResolution"
            },
            "type": "boolean"
          },
          "filedAgainst": {
            "title": {
              "$ref": "#/messages/github.labelFiledAgainst"
            },
            "type": "boolean"
          },
          "tags": {
            "title": {
              "$ref": "#/messages/github.labelTags"
            },
            "type": "boolean"
          }
        }
      }
    },
    "required": ["repo_name"],
    "form": [
      {
        "type": "validator",
        "url": "/devops/setup/bm-helper/github_helper.html"
      },  
      {
	    "type": "selectfieldset",
	    "key": "type",
	    "titleMap": {
		    "new": {
          "$ref": "#/messages/github.new"
        }
	    },
	    "items": [{
		    "type": "section",
		    "items": ["repo_name", "existing_repo_url"]
	    }]     
      },
      {
      	"type": "group",
	"title": {
    "$ref": "#/messages/github.tAndPMigration"
  },
	"description": {
    "$ref": "#/messages/github.tAndPMigrationDesc"
  },
	"items" : [
		{
		  "type": "label",
		  "key": "desc",
		  "title": {
        "$ref": "#/messages/github.tAndPLabelDesc"
      }
		},
		{
			"type": "selectfieldset",
			"key": "migrateTAndP",
			"readonly": true,
			"title-map": {
				 "Yes" : "Yes",
				 "No" : "No"
			},
			"items": [{
			       "type" : "section",
			       "description" : "",
			       "items" : [{
             				"type": "label",
				        "key" : "desc",
             				"title": {
                       "$ref": "#/messages/github.migrateTAndPItem1Title"
                     },
				        "description": {
                  "$ref": "#/messages/github.migrateTAndPItem1Desc"
                }
      					},{
					"type": "string",
					"key": "query",
					"readonly": false
					},
					"labels"]
			       }, {
			       "type" : "label",
			       "description" : {
               "$ref": "#/messages/github.migrateTAndPItem2Desc"
             }
			       }]
		 }
	     ]
      },
      {
	"type": "boolean",       
	"key": "enable_traceability"       
      }
    ],
    "actions": {
      "create": ["has_issues","repo_name","type"]
    }
}
